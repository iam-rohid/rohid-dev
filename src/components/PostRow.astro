---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
import { format } from "date-fns";
type Props = {
  data: CollectionEntry<"posts">;
};
const {
  data: {
    data: { title, description, publishDate, coverImage },
    slug,
  },
} = Astro.props;
---

<article class="relative flex gap-4 py-4">
  <div class="flex-1">
    <h3 class="line-clamp-2 text-xl font-bold">{title}</h3>
    <p class="my-1 line-clamp-2 text-zinc-700 dark:text-zinc-300">
      {description}
    </p>
    <p class="my-1 text-zinc-600 dark:text-zinc-400">
      {format(new Date(publishDate), "MMMM dd, yyy")}
    </p>
  </div>
  {
    !!coverImage && (
      <Image
        src={coverImage}
        alt={title}
        class="aspect-square h-fit w-24 rounded-md object-cover md:aspect-video md:w-40"
        width={320}
        height={320}
      />
    )
  }
  <a href={`/posts/${slug}`} class="absolute inset-0 opacity-0">{title}</a>
</article>
