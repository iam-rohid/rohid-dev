---
import { getCollection } from "astro:content";
import RootLayout from "@/layouts/RootLayout.astro";
import { compareDesc } from "date-fns";
import PostRow from "@/components/PostRow.astro";

const allPosts = await getCollection("posts");
const recentPosts = allPosts
  .sort((a, b) =>
    compareDesc(new Date(a.data.publishDate), new Date(b.data.publishDate))
  )
  .slice(0, 5);
---

<RootLayout>
  <main class="container lg:max-w-screen-md mx-auto px-4 my-16">
    <section class="my-16 prose dark:prose-invert prose-zinc">
      <p class="text-2xl font-medium text-zinc-600 dark:text-zinc-400 mb-1">
        Hi ðŸ‘‹
      </p>
      <h1>I'm Rohid</h1>
      <p>
        I'm a self-thought developer. I'm currently building <a
          href="https://inspirly.app"
          target="_blank">Inspirly</a
        > in public and also doing <a href="https://youtube.com/@rohiddev"
          >YouTube</a
        > occasionally.
      </p>
    </section>
    <section id="recent-posts" class="my-16">
      {recentPosts.map((post) => <PostRow data={post} />)}
    </section>
  </main>
</RootLayout>
